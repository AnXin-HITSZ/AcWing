# 1. 常用文件管理命令

**目录：**

[TOC]

---

## 一、课程概论

### 1.1 课程目标

目前，**云服务**日益重要，各种应用的自动化大部分都离不开云服务的帮助。在云上搭建 server 服务器，可以用于部署个人网站等各种前后端应用。

同一个 server 的框架，可以适用于不同的 AC APP、Web、APP、小程序、桌面应用、游戏等。因此，对于后端开发而言最重要的是 server。

整个工程课的目标：锻炼动手能力；学完之后可以做出什么项目。（实用主义，工程学习不能求全！）

### 1.2 什么是 Linux、Ubuntu

Linux 是一种操作系统。

### 1.3 未来工作方式

目前服务器的操作模式：以 AC Terminal 为例，AcWing 在后端部署了 1500 台服务器，将这些服务器的空间进行分隔并平均分配给每一位同学；每一位同学在个人的终端上的 AC Terminal 相当于个人的屏幕，且通过一根线从远端的服务器接到该屏幕上，AC Terminal 即显示远端服务器的内容。因此，从某一 Terminal 通过 SSH 即可登录任意一台服务器。

## 二、文件系统

### 2.1 文件系统结构

Linux 系统中存在根目录，即 `\`。`\` 中一般常有以下文件夹：
* `bin`：存储一些可执行文件等；
* `etc`：存储配置文件；
* `var`：存储日志文件等，如 `var` 下的 `log`；
* `lib`：存储一些安装包、静态链接库等；
* `home`：所有用户的家目录。
* `proc`：存储进程相关的信息，如 `proc/cpuinfo` 中存储 CPU 信息。

### 2.2 路径

Linux 中有两种路径，分别为绝对路径和相对路径。

如何识别两种路径：绝对路径开头一定为 `/`，相对路径开头一定不是 `/`。

#### 2.2.1 绝对路径

绝对路径从根目录开始描述。

例如：`/home/acs/main.cpp` 为一个从根目录开始的绝对路径，其中路径开头的 `/` 表示根目录。

#### 2.2.2 相对路径

相对路径从当前路径开始描述。

例如：我们当前位于路径 `/home/acs/` 下，而路径 `/home/acs/tmp/` 下存有文件 `main.cpp`，在当前路径下描述文件 `main.cpp` 的路径即为相对路径 `tmp/main.cpp`。

### 2.3 目录

#### 2.3.1 根目录

`/` 表示根目录。

#### 2.3.2 两个特殊目录

`.` 表示当前目录。

`..` 表示上级目录。

> 注意：`.` 和 `..` 也为两个文件。

#### 2.3.3 家目录

`~/` 表示家目录。

> 注意：`~/` 等价于 `/home/acs/`，表示家目录。

## 三、文件管理常用指令

常用命令介绍如下表所示：
| 命令 | 功能 |
| :--: | :--: |
| `ctrl c` | 取消命令，并且换行 |
| `ctrl u` | 清空本行命令 |
| tab 键 | 可以补全命令和文件名，如果补全不了快速按两下 tab 键，可以显示备选选项 |
| `ls` | 列出当前目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件 |
| `pwd` | 显示当前路径 |
| `cd XXX` | 进入 `XXX` 目录下 |
| `cd ..` | 返回上层目录 |
| `cp XXX YYY` | 将 `XXX` 文件复制成 `YYY`，`XXX` 和 `YYY` 可以是一个路径，比如 `../dir_c/a.txt` 表示上层目录下的 `dir_c` 文件夹下的文件 `a.txt` |
| `cp XXX YYY -r` | 将文件夹 `XXX` 整个复制到路径 `YYY` 下 |
| `mkdir XXX` | 创建目录 `XXX` |
| `rm XXX` | 删除普通文件 |
| `rm XXX -r` | 删除文件夹 |
| `mv XXX YYY` | 将 `XXX` 文件移动到 `YYY`，和 `cp` 命令一样，`XXX` 和 `YYY` 可以是一个路径；重命名也是用这个命令 |
| `touch XXX` | 创建一个文件 |
| `cat XXX` | 展示文件 `XXX` 中的内容 |
| Windows / Linux 下：`Ctrl + insert`；Mac 下：`command + c` | 复制文本 |
| Windows / Linux 下：`Shift + insert`；Mac 下：`command + v` | 粘贴文本 |
| `ls --help` 或 `man --help` | 列出命令帮助 |
| `↑` | 重现上一条命令 |

> 注意：`-r` 表示递归操作。

下面对以上命令进行详细解释。

### 3.1 `ctrl c` 命令

`ctrl c` 将向进程发送终止信号，将进程终止。

### 3.2 `ls` 命令

`ls` 后可接多种参数。`ls -l`（为 `ls -la` 的简写）将列出文件的详细信息；`ls -lh` 将列出所有文件信息，大小用人类可读的单位表示（KiB、MiB、GiB）；`ls -a` 将列出包括隐藏文件在内的所有文件；`ls -A` 将列出不包括当前目录（`.`）和上层目录（`..`）但包括隐藏目录的所有文件。

> 注意：所有以 `.` 开头的文件都为隐藏文件。

### 3.3 `cd` 命令

`cd` 后可接相对目录或绝对目录，也可接 `.` 或 `..`。

在任意位置单纯使用 `cd` 都将返回家目录。

> 注意：`cd ..` 将返回上一级目录，而 `cd -` 将返回上一个待过的目录。

### 3.4 `cp` 命令

`cp` 兼带重命名功能，即等同于“复制 + 粘贴 + 重命名”功能。例如，将文件夹 `a` 下的文件 test.cpp 复制到文件夹 `b` 下，并重命名为 `test2.cpp`，可以执行 `cp a/test.cpp b/test2.cpp`；如果不需要重命名，则为 `cp a/test.cpp b/`。

`cp` 也可以实现文件夹同级重命名功能，例如 `cp a c -r` 即为将文件夹 `a` 复制一份重命名为 `c` 并放于同一路径下。

> 注意：如果文件名中存在空格，则使用转义字符 `\ `；例如，要实现“`y c`”的效果，即可创建文件为 `y\ c`。

### 3.5 `mkdir` 命令

`mkdir` 支持连续创建多个文件，例如 `mkdir a b c` 即可连续创建 `a`、`b`、`c` 三个文件（或文件夹）。

`mkdir` 可以创建连级嵌套目录。例如，想要创建目录 `a`、`b`、`c`，且 `a` 里有 `b`、`b` 里有 `c`，即可执行 `mkdir a/b/c -p`。

### 3.6 `rm` 命令

`rm` 支持连续删除多个文件，例如 `rm a.txt b.txt` 即可连续删除 `a.txt`、`b.txt` 两个文件。

`rm` 支持正则表达式，如 `rm *.txt` 即为删除所有后缀为 `.txt` 的文件。

若只想删除文件夹 `a` 中的全部文件但保留文件夹 `a`，可以执行 `rm a/*`。

执行 `rm * -r` 可以删除当前路径下的所有文件，但不会删除隐藏文件。

### 3.7 `mv` 命令

`mv` 等同于“剪切 + 粘贴”功能，兼具重命名功能。